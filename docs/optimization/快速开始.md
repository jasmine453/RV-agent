# RV-Agent å¿«é€Ÿå¼€å§‹æŒ‡å—

> 5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨ä¼˜åŒ–åçš„ RV-Agent é¡¹ç›®

---

## âš¡ å¿«é€Ÿå®‰è£…

### 1. å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡å®‰è£…ï¼‰

```bash
npm install
```

å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨è¿è¡Œåˆå§‹åŒ–è„šæœ¬ï¼Œåˆ›å»ºå¿…è¦çš„ç›®å½•å’Œæ–‡ä»¶ã€‚

### 2. é…ç½® API å¯†é’¥

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä½ çš„ DeepSeek API å¯†é’¥ï¼š

```env
DEEPSEEK_API_KEY=sk-your-actual-api-key-here
```

> ğŸ’¡ è·å– API å¯†é’¥ï¼šhttps://platform.deepseek.com/

### 3. å¯åŠ¨æœåŠ¡å™¨

**Windows ç”¨æˆ·**ï¼š
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨ç®¡ç†å·¥å…·ï¼ˆæ¨èï¼‰
åŒå‡»è¿è¡Œ: æœåŠ¡å™¨ç®¡ç†.bat

# æ–¹æ³•2ï¼šå‘½ä»¤è¡Œ
npm start
```

**Linux/Mac ç”¨æˆ·**ï¼š
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
chmod +x start-server.sh
./start-server.sh

# æ–¹æ³•2ï¼šå‘½ä»¤è¡Œ
npm start
```

### 4. è®¿é—®åº”ç”¨

æµè§ˆå™¨æ‰“å¼€ï¼š
- ä¸»é¡µï¼šhttp://localhost:3000
- å¥åº·æ£€æŸ¥ï¼šhttp://localhost:3000/api/health

---

## ğŸ¯ ä¼˜åŒ–åŠŸèƒ½

### å·²é›†æˆçš„ä¼˜åŒ–

âœ… **å®‰å…¨å¢å¼º**
- Helmet å®‰å…¨å¤´ä¿æŠ¤
- é€Ÿç‡é™åˆ¶ï¼ˆé˜²æ­¢æ»¥ç”¨ï¼‰
- æ–‡ä»¶ä¸Šä¼ å®‰å…¨éªŒè¯

âœ… **é”™è¯¯å¤„ç†**
- ç»Ÿä¸€é”™è¯¯å“åº”æ ¼å¼
- è¯¦ç»†æ—¥å¿—è®°å½•
- ä¼˜é›…çš„é”™è¯¯æç¤º

âœ… **æ—¥å¿—ç³»ç»Ÿ**
- Winston æ—¥å¿—è®°å½•
- æŒ‰å¤©è‡ªåŠ¨è½®è½¬
- å¤šçº§åˆ«æ—¥å¿—ï¼ˆinfo/warn/errorï¼‰

âœ… **ä»£ç è´¨é‡**
- ESLint ä»£ç æ£€æŸ¥
- Prettier æ ¼å¼åŒ–
- å•å…ƒæµ‹è¯•æ”¯æŒ

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev

# è¿è¡Œä»£ç æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
npm run lint:fix

# æ ¼å¼åŒ–ä»£ç 
npm run format
```

### æµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç›‘å¬æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡æ–°è¿è¡Œï¼‰
npm run test:watch

# åªè¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# åªè¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration
```

### ä¼˜åŒ–å‘½ä»¤

```bash
# ä¼˜åŒ–å›¾ç‰‡èµ„æº
npm run optimize:images

# å‹ç¼© CSS
npm run build:css

# å®Œæ•´æ„å»º
npm run build

# æ¸…ç†ç”Ÿæˆçš„æ–‡ä»¶
npm run clean
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### å›¾ç‰‡ä¼˜åŒ–

è¿è¡Œå›¾ç‰‡ä¼˜åŒ–åï¼Œmascot.png ä» 1.8MB å‹ç¼©åˆ° <500KBï¼š

```bash
npm run optimize:images
```

ä¼˜åŒ–åçš„å›¾ç‰‡ä¿å­˜åœ¨ `assets/optimized/` ç›®å½•ã€‚

### ä½¿ç”¨ä¼˜åŒ–åçš„å›¾ç‰‡

åœ¨ HTML ä¸­ä½¿ç”¨ `<picture>` æ ‡ç­¾ï¼š

```html
<picture>
    <source srcset="assets/optimized/mascot.webp" type="image/webp">
    <source srcset="assets/optimized/mascot.png" type="image/png">
    <img src="assets/optimized/mascot.png" alt="AIåŠ©æ‰‹" loading="lazy">
</picture>
```

---

## ğŸ” æ£€æŸ¥æœåŠ¡çŠ¶æ€

### ä½¿ç”¨ç®¡ç†å·¥å…·

Windows ç”¨æˆ·è¿è¡Œ `æœåŠ¡å™¨ç®¡ç†.bat`ï¼Œé€‰æ‹©ï¼š
- [5] æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
- [7] å®Œæ•´ç³»ç»Ÿæ£€æŸ¥

### ä½¿ç”¨å‘½ä»¤è¡Œ

```bash
# æ£€æŸ¥å¥åº·çŠ¶æ€
curl http://localhost:3000/api/health

# æŸ¥çœ‹æ—¥å¿—
cat logs/combined-$(date +%Y-%m-%d).log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
cat logs/error-$(date +%Y-%m-%d).log
```

---

## ğŸ“š æ–‡æ¡£å‚è€ƒ

### æ ¸å¿ƒæ–‡æ¡£

1. **README.md** - å®Œæ•´é¡¹ç›®è¯´æ˜
2. **ä»£ç åˆ†æä¸ä¼˜åŒ–æŠ¥å‘Š.md** - è¯¦ç»†ä¼˜åŒ–æ–¹æ¡ˆï¼ˆ117é¡µï¼‰
3. **ä¼˜åŒ–å®æ–½æŒ‡å—.md** - é€æ­¥å®æ–½æŒ‡å—
4. **ä¼˜åŒ–æ€»ç»“.md** - å¿«é€Ÿæ¦‚è§ˆ

### ä»£ç æ–‡æ¡£

- `server/middleware/security.js` - å®‰å…¨ä¸­é—´ä»¶
- `server/middleware/errorHandler.js` - é”™è¯¯å¤„ç†
- `server/logger.js` - æ—¥å¿—ç³»ç»Ÿ

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: npm install å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ¸…ç†ç¼“å­˜
npm cache clean --force

# åˆ é™¤ node_modules é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

### Q2: ç«¯å£ 3000 è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# Windows
æœåŠ¡å™¨ç®¡ç†.bat â†’ [2] é‡å¯æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨æ¸…ç†ç«¯å£ï¼‰

# Linux/Mac
killall node
npm start
```

### Q3: API å¯†é’¥æœªé…ç½®

**é”™è¯¯ä¿¡æ¯**: `DEEPSEEK_API_KEY æœªè®¾ç½®`

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¼–è¾‘ `.env` æ–‡ä»¶
2. é…ç½®: `DEEPSEEK_API_KEY=sk-your-key`
3. é‡å¯æœåŠ¡å™¨

### Q4: å›¾ç‰‡ä¼˜åŒ–å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: `imagemin ç›¸å…³é”™è¯¯`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# é‡æ–°å®‰è£…å›¾ç‰‡ä¼˜åŒ–ä¾èµ–
npm install -D imagemin imagemin-pngquant imagemin-mozjpeg imagemin-webp

# å†æ¬¡è¿è¡Œä¼˜åŒ–
npm run optimize:images
```

---

## ğŸš€ æ€§èƒ½é¢„æœŸ

ä¼˜åŒ–åçš„æ€§èƒ½æå‡ï¼š

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| é¦–å±åŠ è½½ | ~5ç§’ | <3ç§’ | 40% |
| å›¾ç‰‡ä½“ç§¯ | 1.8MB | <500KB | 72% |
| ä»£ç è´¨é‡ | æ— æ£€æŸ¥ | 80åˆ†+ | - |
| æµ‹è¯•è¦†ç›–ç‡ | 0% | 60%+ | - |
| å®‰å…¨æ€§ | ä½ | é«˜ | 80% |

---

## ğŸ“ è·å–å¸®åŠ©

### æŸ¥çœ‹æ—¥å¿—

æ‰€æœ‰æ—¥å¿—ä¿å­˜åœ¨ `logs/` ç›®å½•ï¼š
- `combined-YYYY-MM-DD.log` - æ‰€æœ‰æ—¥å¿—
- `error-YYYY-MM-DD.log` - é”™è¯¯æ—¥å¿—
- `warn-YYYY-MM-DD.log` - è­¦å‘Šæ—¥å¿—

### è”ç³»æ”¯æŒ

- **é‚®ç®±**: rjasmine756@163.com
- **é¡¹ç›®**: åä¸œæ”¿æ³•å¤§å­¦ RV-Agent
- **GitHub**: åˆ›å»º Issue

---

## ğŸ‰ ä¸‹ä¸€æ­¥

ç°åœ¨ä½ å·²ç»æˆåŠŸå¯åŠ¨äº†ä¼˜åŒ–åçš„ RV-Agentï¼

å»ºè®®ç»§ç»­ï¼š

1. âœ… é˜…è¯» `ä¼˜åŒ–å®æ–½æŒ‡å—.md` äº†è§£æ›´å¤šä¼˜åŒ–
2. âœ… è¿è¡Œæµ‹è¯•ç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼š`npm test`
3. âœ… æŸ¥çœ‹æ—¥å¿—ç³»ç»Ÿï¼š`cat logs/combined-*.log`
4. âœ… ä¼˜åŒ–å›¾ç‰‡èµ„æºï¼š`npm run optimize:images`
5. âœ… é˜…è¯» `ä»£ç åˆ†æä¸ä¼˜åŒ–æŠ¥å‘Š.md` æ·±å…¥ç†è§£

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€

*æœ€åæ›´æ–°: 2025å¹´1æœˆ*

